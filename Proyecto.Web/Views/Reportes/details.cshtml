@model Proyecto.Application.DTOs.ClienteDTO
@using Proyecto.Application.DTOs



<div id="detalleCliente">
    <h4>Reporte de Dueño del NFT</h4>
    <hr />
    <table class="table table-striped">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => model.IdCliente)</th>
                <th>@Html.DisplayNameFor(model => model.Nombre)</th>
                <th>@Html.DisplayNameFor(model => model.Apellido1)</th>
                <th>@Html.DisplayNameFor(model => model.Apellido2)</th>
                <th>@Html.DisplayNameFor(model => model.Email)</th>
                <th>NFT</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Html.DisplayFor(model => model.IdCliente)</td>
                <td>@Html.DisplayFor(model => model.Nombre)</td>
                <td>@Html.DisplayFor(model => model.Apellido1)</td>
                <td>@Html.DisplayFor(model => model.Apellido2)</td>
                <td>@Html.DisplayFor(model => model.Email)</td>
                <td>
                    @{
                        var nftId = ((IEnumerable<NFTDTO>)ViewBag.nft).ToList();
                        var NFTDict = nftId.ToDictionary(c => c.IdNft, c => c.Imagen);
                    }
                    @{
                        //preguntamos si el diccionario lo tiene
                        if (NFTDict.ContainsKey(nftId.First().IdNft))
                        {
                            var imageBytes = NFTDict[nftId.First().IdNft];
                            var imageBase64 = Convert.ToBase64String(imageBytes);
                            <img src="data:image/png;base64,@imageBase64" alt="Imagen del NFT" width="200" height="200" />
                        }
                    }
                </td>
            </tr>
        </tbody>
    </table>
</div>
